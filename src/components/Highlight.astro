---
interface Props {
  color?: "yellow" | "green" | "blue" | "pink" | "orange";
}

const { color = "yellow" } = Astro.props;
---

<mark class={`highlight highlight-${color}`}>
  <slot />
</mark>

<style>
  /* Base highlight styles - realistic marker pen effect */
  .highlight {
    padding: 0.1em 0.4em;
    margin: 0 -0.4em;
    font-weight: bolder;
    line-height: 1.8;
    border-radius: 7.5px 3px;
    box-decoration-break: clone;
    -webkit-box-decoration-break: clone;
    color: inherit; /* ใช้สีตัวอักษรปกติของ theme */
  }

  /* Yellow marker - Stabilo Boss สีเหลือง */
  .highlight-yellow {
    background:
      linear-gradient(
        104deg,
        rgba(255, 235, 59, 0) 0.9%,
        rgba(255, 235, 59, 0.95) 2.4%,
        rgba(255, 235, 59, 0.7) 5.8%,
        rgba(255, 235, 59, 0.3) 93%,
        rgba(255, 235, 59, 0.85) 96%,
        rgba(255, 235, 59, 0) 98%
      ),
      linear-gradient(
        183deg,
        rgba(255, 235, 59, 0) 0%,
        rgba(255, 235, 59, 0.5) 7.9%,
        rgba(255, 235, 59, 0) 15%
      );
    text-shadow:
      -6px 6px 3px rgba(255, 255, 130, 0.5),
      10px -9px 2px rgba(255, 255, 255, 0.8),
      -9px -14px 8px rgba(255, 255, 255, 0.6);
  }

  /* Green marker - เขียวมิ้นท์ */
  .highlight-green {
    background:
      linear-gradient(
        104deg,
        rgba(102, 255, 178, 0) 0.9%,
        rgba(102, 255, 178, 0.9) 2.4%,
        rgba(102, 255, 178, 0.65) 5.8%,
        rgba(102, 255, 178, 0.25) 93%,
        rgba(102, 255, 178, 0.8) 96%,
        rgba(102, 255, 178, 0) 98%
      ),
      linear-gradient(
        183deg,
        rgba(102, 255, 178, 0) 0%,
        rgba(102, 255, 178, 0.45) 7.9%,
        rgba(102, 255, 178, 0) 15%
      );
    text-shadow:
      -6px 6px 3px rgba(130, 255, 173, 0.5),
      10px -9px 2px rgba(255, 255, 255, 0.8),
      -9px -14px 8px rgba(255, 255, 255, 0.6);
  }

  /* Blue marker - ฟ้าสดใส */
  .highlight-blue {
    background:
      linear-gradient(
        104deg,
        rgba(100, 200, 255, 0) 0.9%,
        rgba(100, 200, 255, 0.9) 2.4%,
        rgba(100, 200, 255, 0.65) 5.8%,
        rgba(100, 200, 255, 0.25) 93%,
        rgba(100, 200, 255, 0.8) 96%,
        rgba(100, 200, 255, 0) 98%
      ),
      linear-gradient(
        183deg,
        rgba(100, 200, 255, 0) 0%,
        rgba(100, 200, 255, 0.45) 7.9%,
        rgba(100, 200, 255, 0) 15%
      );
    text-shadow:
      -6px 6px 3px rgba(130, 204, 255, 0.5),
      10px -9px 2px rgba(255, 255, 255, 0.8),
      -9px -14px 8px rgba(255, 255, 255, 0.6);
  }

  /* Pink marker - ชมพูสดใส */
  .highlight-pink {
    background:
      linear-gradient(
        104deg,
        rgba(255, 130, 200, 0) 0.9%,
        rgba(255, 130, 200, 0.85) 2.4%,
        rgba(255, 130, 200, 0.6) 5.8%,
        rgba(255, 130, 200, 0.22) 93%,
        rgba(255, 130, 200, 0.75) 96%,
        rgba(255, 130, 200, 0) 98%
      ),
      linear-gradient(
        183deg,
        rgba(255, 130, 200, 0) 0%,
        rgba(255, 130, 200, 0.4) 7.9%,
        rgba(255, 130, 200, 0) 15%
      );
    text-shadow:
      -6px 6px 3px rgba(255, 130, 200, 0.5),
      10px -9px 2px rgba(255, 255, 255, 0.8),
      -9px -14px 8px rgba(255, 255, 255, 0.6);
  }

  /* Orange marker - ส้มสดใส */
  .highlight-orange {
    background:
      linear-gradient(
        104deg,
        rgba(255, 167, 38, 0) 0.9%,
        rgba(255, 167, 38, 0.9) 2.4%,
        rgba(255, 167, 38, 0.65) 5.8%,
        rgba(255, 167, 38, 0.25) 93%,
        rgba(255, 167, 38, 0.8) 96%,
        rgba(255, 167, 38, 0) 98%
      ),
      linear-gradient(
        183deg,
        rgba(255, 167, 38, 0) 0%,
        rgba(255, 167, 38, 0.45) 7.9%,
        rgba(255, 167, 38, 0) 15%
      );
    text-shadow:
      -6px 6px 3px rgba(255, 183, 77, 0.5),
      10px -9px 2px rgba(255, 255, 255, 0.8),
      -9px -14px 8px rgba(255, 255, 255, 0.6);
  }

  /* Dark mode - สีขาวใสมากๆ ไม่มี effect เพื่อ accessibility */
  :global([data-theme="dark"]) .highlight.highlight-yellow,
  :global([data-theme="dark"]) .highlight.highlight-green,
  :global([data-theme="dark"]) .highlight.highlight-blue,
  :global([data-theme="dark"]) .highlight.highlight-pink,
  :global([data-theme="dark"]) .highlight.highlight-orange {
    background: rgba(255, 255, 255, 0.15) !important;
    text-shadow: none !important;
  }
</style>
